<ion-header>
    <ion-toolbar>
        <ion-buttons slot="start">
            <ion-back-button [text]="'core.back' | translate"></ion-back-button>
        </ion-buttons>

        <ion-title>
            <h1>{{ 'core.login.accounts' | translate }}</h1>
        </ion-title>
    </ion-toolbar>
</ion-header>
<ion-content class="limited-width">
    <core-loading [hideUntil]="loaded">
        <ion-list class="core-sitelist">
            <ion-card *ngFor="let sites of accountsList.otherSites">
                <ion-item button *ngFor="let site of sites" (click)="login($event, site.id)" detail="true">
                    <ion-avatar slot="start">
                        <img [src]="site.avatar" core-external-content [siteId]="site.id"
                            alt="{{ 'core.pictureof' | translate:{$a: site.fullName} }}" onError="this.src='assets/img/user-avatar.png'">
                    </ion-avatar>
                    <ion-label>
                        <p class="item-heading">{{site.fullName}}</p>
                    </ion-label>
                    <ion-badge slot="end" *ngIf="!showDelete && site.badge" @coreShowHideAnimation>
                        <span aria-hidden="true">{{site.badge}}</span>
                        <span class="sr-only">{{ 'core.login.sitebadgedescription' | translate:{ count: site.badge }
                            }}</span>
                    </ion-badge>
                    <ion-button slot="end" fill="clear" color="danger" (click)="deleteSite($event, site)"
                        [attr.aria-label]="'core.login.removeaccount' | translate" [@coreSlideInOut]="'fromRight'">
                        <ion-icon name="fas-right-from-bracket" slot="icon-only" aria-hidden="true"></ion-icon>
                    </ion-button>
                </ion-item>
            </ion-card>
        </ion-list>
    </core-loading>

</ion-content>
