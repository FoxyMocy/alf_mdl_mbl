(window.webpackJsonp=window.webpackJsonp||[]).push([[73],{"3FTR":function(e,t,o){"use strict";o.r(t),o.d(t,"CoreMainMenuHomeLazyModule",(function(){return P}));var n=o("fXoL"),a=o("tyNb"),i=o("L3Fv"),r=o("wG2S"),s=o("u7qe"),c=o("dQ3M"),u=o("/CLE"),d=o("mrSG"),l=o("9+EE"),m=o("fjkH"),b=o("NhJP"),M=o("TkC7"),g=o("bFG1"),p=o("YyYz"),h=o("TEn/"),_=o("C1x5"),C=o("PgjG"),f=o("ofXK"),y=o("r8G5"),v=o("sYmb");function CoreMainMenuHomePage_core_empty_box_10_Template(e,t){1&e&&(n.zc(0,"core-empty-box",7),n.Pc(1,"translate")),2&e&&n.Vc("message",n.Qc(1,1,"core.courses.nocourses"))}function CoreMainMenuHomePage_core_tabs_outlet_11_Template(e,t){if(1&e){const e=n.Fc();n.Ec(0,"core-tabs-outlet",8),n.Mc("ionChange",(function CoreMainMenuHomePage_core_tabs_outlet_11_Template_core_tabs_outlet_ionChange_0_listener(){n.fd(e);return n.Oc().tabSelected()})),n.Dc()}if(2&e){const e=n.Oc();n.Vc("hideUntil",e.loaded)("tabs",e.tabs)}}let H=(()=>{class CoreMainMenuHomePage{constructor(){this.siteName="",this.tabs=[],this.loaded=!1}ngOnInit(){return Object(d.a)(this,void 0,void 0,(function*(){this.deepLinkManager=new p.a,yield this.loadSiteName(),this.subscription=M.a.getHandlersObservable().subscribe((e=>{e&&this.initHandlers(e)})),this.updateSiteObserver=m.b.on(m.b.SITE_UPDATED,(()=>Object(d.a)(this,void 0,void 0,(function*(){yield this.loadSiteName()}))),l.b.getCurrentSiteId())}))}initHandlers(e){const t=M.a.areHandlersLoaded(),o=g.a.arrayToObject(e,"title"),n=e.map((e=>{const t=this.tabs.find((t=>t.title==e.title));return t||{page:`/main/${s.b.PAGE_NAME}/${e.page}`,pageParams:e.pageParams,title:e.title,class:e.class,icon:e.icon,badge:e.badge}}));n.sort(((e,t)=>(o[t.title].priority||0)-(o[e.title].priority||0))),this.tabs=n,setTimeout((()=>{this.loaded=t}),50)}loadSiteName(){return Object(d.a)(this,void 0,void 0,(function*(){const e=l.b.getRequiredCurrentSite();this.siteName=(yield e.getSiteName())||""}))}tabSelected(){var e;null===(e=this.deepLinkManager)||void 0===e?void 0:e.treatLink()}ionViewDidEnter(){var e;null===(e=this.tabsComponent)||void 0===e?void 0:e.ionViewDidEnter()}ionViewDidLeave(){var e;null===(e=this.tabsComponent)||void 0===e?void 0:e.ionViewDidLeave()}}return CoreMainMenuHomePage.ɵfac=function CoreMainMenuHomePage_Factory(e){return new(e||CoreMainMenuHomePage)},CoreMainMenuHomePage.ɵcmp=n.sc({type:CoreMainMenuHomePage,selectors:[["page-core-mainmenu-home"]],viewQuery:function CoreMainMenuHomePage_Query(e,t){var o;(1&e&&n.ud(b.a,!0),2&e)&&(n.dd(o=n.Nc())&&(t.tabsComponent=o.first))},decls:12,vars:6,consts:[["slot","start"],[3,"text"],["src","assets/img/top_logo.png",1,"core-header-logo",3,"alt"],["slot","end"],[3,"hideUntil"],["icon","fas-house",3,"message",4,"ngIf"],[3,"hideUntil","tabs","ionChange",4,"ngIf"],["icon","fas-house",3,"message"],[3,"hideUntil","tabs","ionChange"]],template:function CoreMainMenuHomePage_Template(e,t){1&e&&(n.Ec(0,"ion-header"),n.Ec(1,"ion-toolbar"),n.Ec(2,"ion-buttons",0),n.zc(3,"ion-back-button",1),n.Pc(4,"translate"),n.Dc(),n.Ec(5,"ion-title"),n.zc(6,"img",2),n.Dc(),n.Ec(7,"ion-buttons",3),n.zc(8,"core-user-menu-button"),n.Dc(),n.Dc(),n.Dc(),n.Ec(9,"core-loading",4),n.nd(10,CoreMainMenuHomePage_core_empty_box_10_Template,2,3,"core-empty-box",5),n.Dc(),n.nd(11,CoreMainMenuHomePage_core_tabs_outlet_11_Template,1,2,"core-tabs-outlet",6)),2&e&&(n.lc(3),n.Vc("text",n.Qc(4,4,"core.back")),n.lc(6),n.Vc("hideUntil",t.loaded),n.lc(1),n.Vc("ngIf",0==t.tabs.length),n.lc(1),n.Vc("ngIf",t.tabs.length>0))},directives:[h.C,h.Ab,h.m,h.h,h.i,h.yb,_.a,C.a,f.t,y.a,b.a],pipes:[v.d],styles:[".top-logo-size[_ngcontent-%COMP%]{height:65px;width:auto}"]}),CoreMainMenuHomePage})();function buildRoutes(e){const t=Object(u.b)(e);return[...Object(r.b)(e,{path:"",data:{mainMenuTabRoot:s.b.PAGE_NAME},component:H,children:t.children}),...t.siblings]}let P=(()=>{class CoreMainMenuHomeLazyModule{}return CoreMainMenuHomeLazyModule.ɵmod=n.wc({type:CoreMainMenuHomeLazyModule}),CoreMainMenuHomeLazyModule.ɵinj=n.vc({factory:function CoreMainMenuHomeLazyModule_Factory(e){return new(e||CoreMainMenuHomeLazyModule)},providers:[{provide:a.g,multi:!0,useFactory:buildRoutes,deps:[n.x]}],imports:[[i.a,c.a],a.m]}),CoreMainMenuHomeLazyModule})();void(("undefined"==typeof ngJitMode||ngJitMode)&&n.kd(P,{declarations:[H],imports:[i.a,c.a],exports:[a.m]}))}}]);